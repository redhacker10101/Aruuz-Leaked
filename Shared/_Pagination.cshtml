@model Aruuz.Models.Pagination
<style scoped>
    .page-item.active .page-link {
        background-color: grey;
    }
</style>
@{ 
    Model.baseUrl += "page";
}

@{
    if (Model.maxPages <= 5)
    {
        <nav aria-label="Page navigation example" dir="ltr">
            <ul class="pagination justify-content-end">
                @for (int i = Model.maxPages; i > 0; i--)
                {
                    if (i == Model.currentPage)
                    {
                        <li class="active page-item"><a class="page-link" href="@Model.baseUrl=@i.ToString()">@i.ToString()</a></li>

                    }
                    else
                    {
                        <li class="page-item"><a class="page-link" href="@Model.baseUrl=@i.ToString()">@i.ToString()</a></li>
                    }
                }
            </ul>
        </nav>
    }
    else
    {
        if (@Model.currentPage <= 2)
        {
            <nav aria-label="Page navigation example" dir="ltr">
                <ul class="pagination justify-content-end">
                    <li class="page-item"><a class="page-link" href="@Model.baseUrl=@Model.maxPages.ToString()"><span aria-hidden="true">&laquo;</span></a></li>
                    <li class="page-item"><a class="page-link" href="@Model.baseUrl=@Model.maxPages.ToString()">@Model.maxPages.ToString()</a></li>
                    <li class="page-item"><a class="page-link" href="#">...</a></li>
                    @for (int i = 3; i > 0; i--)
                    {
                        if (i == Model.currentPage)
                        {
                            <li class="active page-item"><a class="page-link" href="@Model.baseUrl=@i.ToString()">@i.ToString()</a></li>

                        }
                        else
                        {
                            <li class="page-item"><a class="page-link" href="@Model.baseUrl=@i.ToString()">@i.ToString()</a></li>
                        }
                    }
                    @if (Model.currentPage == 1)
                    {
                        <li class="disabled page-item"><a class="page-link" href="@Model.baseUrl=1"> <span aria-hidden="true">&raquo;</span></a></li>
                    }
                    else
                    {
                        <li class="page-item"><a class="page-link" href="@Model.baseUrl=1"> <span aria-hidden="true">&raquo;</span></a></li>
                    }
                </ul>
            </nav>
        }
        else if (@Model.currentPage > 2 && @Model.currentPage <= @Model.maxPages - 2)
        {
            <nav aria-label="Page navigation example" dir="ltr">
                <ul class="pagination  justify-content-end">
                    <li class="page-item"><a class="page-link" href="@Model.baseUrl=@Model.maxPages.ToString()"><span aria-hidden="true">&raquo;</span></a></li>
                    <li class="page-item"><a class="page-link" href="@Model.baseUrl=@Model.maxPages.ToString()">@Model.maxPages.ToString()</a></li>
                    @if (@Model.maxPages - @Model.currentPage == 2)
                    {

                    }
                    else
                    {
                        if (@Model.maxPages - @Model.currentPage != 3)
                        {
                            <li class="page-item"><a class="page-link" href="#">...</a></li>
                        }
                        else
                        {

                            string lnk = (Model.maxPages - 1).ToString();
                            <li class="page-item"><a class="page-link" href="@Model.baseUrl=@lnk">@lnk</a></li>

                        }
                    }
                    @for (int i = @Model.currentPage + 1; i >= @Model.currentPage - 1; i--)
                    {
                        if (i == Model.currentPage)
                        {
                            <li class="active page-item"><a class="page-link" href="@Model.baseUrl=@i.ToString()">@i.ToString()</a></li>

                        }
                        else
                        {
                            <li class="page-item"><a class="page-link" href="@Model.baseUrl=@i.ToString()">@i.ToString()</a></li>
                        }
                    }
                    @if (@Model.currentPage == 3)
                    {

                    }
                    else
                    {
                        if (@Model.currentPage != 4)
                        {
                            <li class="page-item"><a class="page-link" href="#">...</a></li>
                        }
                        else
                        {

                            <li class="page-item"><a class="page-link" href="@Model.baseUrl=2">2</a></li>

                        }
                    }

                    <li class="page-item"><a class="page-link" href="@Model.baseUrl=1">1</a></li>
                    <li class="page-item"> <a class="page-link" href="@Model.baseUrl=1"> <span aria-hidden="true">&laquo;</span></a></li>
                </ul>
            </nav>
        }
        else
        {
            <nav aria-label="Page navigation example" dir="ltr">
                <ul class="pagination  justify-content-end">
                    @if (@Model.currentPage == @Model.maxPages)
                    {
                        <li class="disabled page-item"><a class="page-link" href="@Model.baseUrl=@Model.maxPages.ToString()"><span aria-hidden="true">&raquo;</span></a></li>
                    }
                    else
                    {
                        <li class="page-item"><a class="page-link" href="@Model.baseUrl=@Model.maxPages.ToString()"><span aria-hidden="true">&raquo;</span></a></li>
                    }
                    @for (int i = @Model.maxPages; i > @Model.maxPages - 3; i--)
                    {
                        if (i == Model.currentPage)
                        {
                            <li class="active page-item"><a class="page-link" href="@Model.baseUrl=@i.ToString()">@i.ToString()</a></li>

                        }
                        else
                        {
                            <li class="page-item"><a class="page-link" href="@Model.baseUrl=@i.ToString()">@i.ToString()</a></li>
                        }
                    }

                    <li class="page-item"><a class="page-link" href="#">...</a></li>
                    <li class="page-item"><a class="page-link" href="@Model.baseUrl=1">1</a></li>
                    <li class="page-item"><a class="page-link" href="@Model.baseUrl=1">  <span aria-hidden="true">&laquo;</span></a></li>
                </ul>
            </nav>
        }
    }
}

